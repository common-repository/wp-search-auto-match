jQuery(function(){var e=function(){var e={tags:[],searEl:jQuery('input[name="s"]').eq(0),formEl:jQuery('input[name="s"]').eq(0).parents("form").eq(0),wrapEl:null,wrapperId:"wp_search_auto_match_wrapper",currentClass:"wp_search_auto_match_cur",ajaxUrl:wp_search_auto_match_info.blogUrl+"/?action=tag_cloud"};var t=function(){var t=e.wrapEl,n=e.searEl;t.css({width:n.outerWidth(),top:n.offset().top+n.outerHeight(),left:n.offset().left});return e.wrapEl};var n=function(t){var n=t.length,r="";for(var i=0;i<n;i++){r+="<li>"+t[i]+"</li>"}jQuery("ul",e.wrapEl).replaceWith("<ul>"+r+"</ul>");return e.wrapEl};var r=function(){var t=e.searEl,r=e.formEl,i=e.wrapEl,s=e.currentClass,o=e.wrapperId,u=e.tags,a=u.length,f=-1;t.keyup(function(e){var t=jQuery(this),r=jQuery.trim(t.val()),o=[],l=0,c=e.keyCode;if(r!=""){for(var h=0;h<a;h++){if(u[h].toLowerCase().indexOf(r.toLowerCase())!=-1){o.push(u[h])}}l=o.length-1;n(o).show();switch(c){case 40:f++;if(f>l){f=0}jQuery("li",i).eq(f).addClass(s).siblings().removeClass(s);break;case 38:f--;if(f<0){f=l}jQuery("li",i).eq(f).addClass(s).siblings().removeClass(s);break;case 13:i.hide();break}}else{i.hide()}});t.keypress(function(e){var n=jQuery(this),r=e.keyCode,o=jQuery("."+s,i);switch(r){case 13:if(o.length!=0){e.preventDefault();t.val(o.html());o.removeClass(s)}break}});jQuery(document).on("mouseover","li",function(){jQuery(this).addClass(s).siblings().removeClass(s)});jQuery(document).on("click","li",function(){var e=jQuery(this);t.val(e.html());e.removeClass(s);i.hide()})};var i=function(){jQuery.ajax({url:e.ajaxUrl+"&number=0",dataType:"html",complete:function(i){e.tags=i.responseText.split(",");jQuery("body").append('<div id="'+e.wrapperId+'"><ul></ul></div>');e.wrapEl=jQuery("#"+e.wrapperId);n(e.tags);t();r()}})};return{init:function(){i()}}}();e.init()})